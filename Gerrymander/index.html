<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prison Gerrymandering Explorer</title>
    <style>
        :root {
            --color-cream-50: rgba(252, 252, 249, 1);
            --color-cream-100: rgba(255, 255, 253, 1);
            --color-slate-900: rgba(19, 52, 59, 1);
            --color-slate-500: rgba(98, 108, 113, 1);
            --color-teal-500: rgba(33, 128, 141, 1);
            --color-teal-600: rgba(29, 116, 128, 1);
            --color-brown-600-rgb: 94, 82, 64;
            --color-teal-500-rgb: 33, 128, 141;
            --color-charcoal-700: rgba(31, 33, 33, 1);
            --color-charcoal-800: rgba(38, 40, 40, 1);
            --color-gray-200: rgba(245, 245, 245, 1);
            --color-gray-400-rgb: 119, 124, 124;
            --color-teal-300: rgba(50, 184, 198, 1);
            --color-teal-400: rgba(45, 166, 178, 1);
            --color-bg-1: rgba(59, 130, 246, 0.08);
            --color-bg-2: rgba(245, 158, 11, 0.08);
            --color-bg-3: rgba(34, 197, 94, 0.08);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --color-cream-50: var(--color-charcoal-700);
                --color-cream-100: var(--color-charcoal-800);
                --color-slate-900: var(--color-gray-200);
                --color-slate-500: rgba(167, 169, 169, 0.7);
                --color-teal-500: var(--color-teal-300);
                --color-teal-600: var(--color-teal-400);
                --color-brown-600-rgb: var(--color-gray-400-rgb);
                --color-bg-1: rgba(29, 78, 216, 0.15);
                --color-bg-2: rgba(180, 83, 9, 0.15);
                --color-bg-3: rgba(21, 128, 61, 0.15);
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: var(--color-cream-50);
            color: var(--color-slate-900);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: var(--color-cream-100);
            border-bottom: 1px solid rgba(var(--color-brown-600-rgb), 0.2);
            padding: 30px 0;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--color-slate-900);
        }

        .subtitle {
            color: var(--color-slate-500);
            font-size: 16px;
        }

        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            border-bottom: 1px solid rgba(var(--color-brown-600-rgb), 0.2);
            overflow-x: auto;
        }

        .tab {
            padding: 12px 20px;
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: var(--color-slate-500);
            transition: all 0.2s;
            white-space: nowrap;
        }

        .tab:hover {
            color: var(--color-teal-500);
        }

        .tab.active {
            color: var(--color-teal-500);
            border-bottom-color: var(--color-teal-500);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--color-cream-100);
            padding: 24px;
            border-radius: 12px;
            border: 1px solid rgba(var(--color-brown-600-rgb), 0.12);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
        }

        .stat-card h3 {
            font-size: 14px;
            font-weight: 500;
            color: var(--color-slate-500);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 600;
            color: var(--color-teal-500);
            margin-bottom: 4px;
        }

        .stat-description {
            font-size: 13px;
            color: var(--color-slate-500);
        }

        .card {
            background: var(--color-cream-100);
            border-radius: 12px;
            border: 1px solid rgba(var(--color-brown-600-rgb), 0.12);
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
        }

        .card h2 {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--color-slate-900);
        }

        .state-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 16px;
        }

        .state-badge {
            background: var(--color-bg-1);
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            border: 1px solid rgba(var(--color-teal-500-rgb), 0.2);
            display: flex;
            flex-direction: column;
        }

        .state-name {
            font-weight: 600;
            color: var(--color-slate-900);
        }

        .state-year {
            font-size: 12px;
            color: var(--color-slate-500);
            margin-top: 4px;
        }

        .case-study {
            background: var(--color-bg-2);
            border-left: 4px solid var(--color-teal-500);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 16px;
        }

        .case-study h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--color-slate-900);
        }

        .case-metric {
            display: grid;
            grid-template-columns: 140px 1fr;
            gap: 12px;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .case-label {
            font-weight: 600;
            color: var(--color-slate-900);
        }

        .case-value {
            color: var(--color-slate-500);
        }

        .filter-section {
            background: var(--color-cream-100);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid rgba(var(--color-brown-600-rgb), 0.12);
        }

        .filter-group {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-group label {
            font-size: 14px;
            font-weight: 500;
            color: var(--color-slate-900);
        }

        select {
            padding: 8px 32px 8px 12px;
            border: 1px solid rgba(var(--color-brown-600-rgb), 0.2);
            border-radius: 6px;
            background: var(--color-cream-50);
            color: var(--color-slate-900);
            font-size: 14px;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 8px center;
            background-size: 16px;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            display: flex;
            gap: 20px;
            margin-bottom: 24px;
            position: relative;
        }

        .timeline-year {
            font-size: 18px;
            font-weight: 600;
            color: var(--color-teal-500);
            min-width: 60px;
        }

        .timeline-content {
            flex: 1;
            padding-bottom: 20px;
            border-left: 2px solid rgba(var(--color-teal-500-rgb), 0.3);
            padding-left: 20px;
        }

        .timeline-content h4 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--color-slate-900);
        }

        .timeline-content p {
            font-size: 14px;
            color: var(--color-slate-500);
        }

        .key-fact {
            background: var(--color-bg-3);
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 12px;
            border-left: 3px solid var(--color-teal-500);
        }

        .key-fact strong {
            color: var(--color-slate-900);
        }

        .info-box {
            background: var(--color-cream-100);
            border: 1px solid rgba(var(--color-brown-600-rgb), 0.2);
            border-radius: 8px;
            padding: 16px;
            margin: 20px 0;
        }

        .info-box h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--color-slate-900);
        }

        .info-box ul {
            list-style: none;
            padding: 0;
        }

        .info-box li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(var(--color-brown-600-rgb), 0.1);
            font-size: 14px;
            color: var(--color-slate-500);
        }

        .info-box li:last-child {
            border-bottom: none;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 24px;
            }

            .stat-grid {
                grid-template-columns: 1fr;
            }

            .case-metric {
                grid-template-columns: 1fr;
            }

            .tabs {
                flex-wrap: nowrap;
                overflow-x: auto;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Prison Gerrymandering Explorer</h1>
            <p class="subtitle">Understanding how census counting practices distort American democracy</p>
        </div>
    </header>

    <div class="container">
        <div class="tabs">
            <button class="tab active" data-tab="overview">Overview</button>
            <button class="tab" data-tab="impact">Quantitative Impact</button>
            <button class="tab" data-tab="states">State Reforms</button>
            <button class="tab" data-tab="demographics">Demographics</button>
            <button class="tab" data-tab="timeline">Historical Timeline</button>
        </div>

        <!-- Overview Tab -->
        <div class="tab-content active" id="overview">
            <div class="stat-grid">
                <div class="stat-card">
                    <h3>Incarcerated Population</h3>
                    <div class="stat-value">1.8M</div>
                    <p class="stat-description">People counted at prison locations in 2020 Census</p>
                </div>
                <div class="stat-card">
                    <h3>States with Reforms</h3>
                    <div class="stat-value">15-18</div>
                    <p class="stat-description">States addressing prison gerrymandering (47% of U.S. population)</p>
                </div>
                <div class="stat-card">
                    <h3>Voting Power Multiplier</h3>
                    <div class="stat-value">Up to 50x</div>
                    <p class="stat-description">Maximum voting power amplification in some districts</p>
                </div>
                <div class="stat-card">
                    <h3>Racial Disparity</h3>
                    <div class="stat-value">3.2x</div>
                    <p class="stat-description">Black Americans overrepresentation in prison population</p>
                </div>
            </div>

            <div class="card">
                <h2>What is Prison Gerrymandering?</h2>
                <p style="margin-bottom: 16px; color: var(--color-slate-500);">
                    Prison gerrymandering occurs when the U.S. Census Bureau counts incarcerated individuals at prison locations 
                    rather than their home addresses. This practice, rooted in an 1790 interpretation of "usual residence," 
                    artificially inflates the political power of predominantly white, rural districts housing prisons while 
                    systematically diluting the voting strength of urban communities of color.
                </p>

                <div class="key-fact">
                    <strong>Key Issue:</strong> 48 states prohibit prisoners from voting, yet they are counted as residents 
                    of prison districts for apportionment purposes, creating districts where substantial populations cannot 
                    participate in elections.
                </div>

                <div class="key-fact">
                    <strong>Historical Parallel:</strong> Like the Three-Fifths Compromise that counted enslaved people 
                    to boost Southern states' congressional representation while denying them rights, prison gerrymandering 
                    counts disenfranchised prisoners to enhance local political power without providing them representation.
                </div>
            </div>

            <div class="card">
                <h2>Rural vs. Urban Transfer of Power</h2>
                <div class="info-box">
                    <h3>The Geographic Pipeline</h3>
                    <ul>
                        <li><strong>90%</strong> of incarcerated people lived in urban zip codes before imprisonment</li>
                        <li><strong>40-49%</strong> of incarcerated people are held in rural facilities</li>
                        <li><strong>20%</strong> rural population houses disproportionate share of prisons</li>
                        <li><strong>77%</strong> of New York prisoners are Black or Latino, but 98% of prisons in white districts</li>
                        <li><strong>40%</strong> of Pennsylvania prisoners from Philadelphia, but 99% of cells outside city</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Impact Tab -->
        <div class="tab-content" id="impact">
            <div class="filter-section">
                <div class="filter-group">
                    <label for="caseFilter">Filter by:</label>
                    <select id="caseFilter">
                        <option value="all">All Cases</option>
                        <option value="extreme">Extreme Examples (50x+ power)</option>
                        <option value="state">State Legislative</option>
                        <option value="congressional">Congressional</option>
                        <option value="local">Local Government</option>
                    </select>
                </div>
            </div>

            <div class="card">
                <h2>Case Studies: Quantified Impact</h2>
                <div id="caseStudies"></div>
            </div>

            <div class="card">
                <h2>National Statistics</h2>
                <div class="info-box">
                    <ul>
                        <li><strong>Total U.S. incarcerated population (2020):</strong> ~1.8-2.1 million</li>
                        <li><strong>Black Americans:</strong> 41.3% of prison population vs 12.7% of general population</li>
                        <li><strong>Latino Americans:</strong> Incarcerated at ~2x rate of non-Latino whites</li>
                        <li><strong>161 counties:</strong> Incarcerated Blacks outnumber free Blacks</li>
                        <li><strong>Pennsylvania impact:</strong> 264,000+ people underrepresented; 100,000+ Black Philadelphians</li>
                        <li><strong>Census accuracy:</strong> 97.4% of prison population enumerated in 2020</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- States Tab -->
        <div class="tab-content" id="states">
            <div class="card">
                <h2>States That Have Ended Prison Gerrymandering</h2>
                <p style="margin-bottom: 20px; color: var(--color-slate-500);">
                    As of 2024, 15-18 states representing nearly half of the U.S. population have enacted reforms 
                    to count incarcerated individuals at their home addresses for redistricting purposes.
                </p>
                <div class="state-grid" id="stateGrid"></div>
            </div>

            <div class="card">
                <h2>Implementation Success Rates</h2>
                <div class="info-box">
                    <h3>2020 Redistricting Cycle Results</h3>
                    <ul>
                        <li><strong>New York:</strong> Reallocated 39,027 people to home addresses</li>
                        <li><strong>Maryland:</strong> Reallocated 15,242 people</li>
                        <li><strong>Colorado:</strong> Reallocated 14,364 people</li>
                        <li><strong>Delaware:</strong> Reallocated 3,761 people (85.5% success rate)</li>
                        <li><strong>Overall success:</strong> Most states achieved 85-95% reallocation rates</li>
                        <li><strong>Common challenges:</strong> Out-of-state addresses (5-10%), incomplete data (5-15%), homelessness</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h2>Local Government Action</h2>
                <p style="color: var(--color-slate-500);">
                    Beyond statewide reforms, more than 200 local governments—including counties, cities, towns, 
                    and school districts—have independently excluded prison populations when drawing districts.
                </p>
            </div>
        </div>

        <!-- Demographics Tab -->
        <div class="tab-content" id="demographics">
            <div class="stat-grid">
                <div class="stat-card">
                    <h3>Black Incarceration Rate</h3>
                    <div class="stat-value">5x</div>
                    <p class="stat-description">Black Americans incarcerated at 5x rate of white Americans</p>
                </div>
                <div class="stat-card">
                    <h3>Prison Population Share</h3>
                    <div class="stat-value">41.3%</div>
                    <p class="stat-description">Black Americans as % of prison population (vs 12.7% of general pop.)</p>
                </div>
                <div class="stat-card">
                    <h3>Counties Affected</h3>
                    <div class="stat-value">161</div>
                    <p class="stat-description">Counties where incarcerated Blacks outnumber free Blacks</p>
                </div>
                <div class="stat-card">
                    <h3>Youth Disparity</h3>
                    <div class="stat-value">17.2x</div>
                    <p class="stat-description">Black youth incarceration rate in Connecticut</p>
                </div>
            </div>

            <div class="card">
                <h2>Racial Disparities by State</h2>
                <div class="case-study">
                    <h3>Illinois</h3>
                    <div class="case-metric">
                        <span class="case-label">State Population:</span>
                        <span class="case-value">15% Black</span>
                    </div>
                    <div class="case-metric">
                        <span class="case-label">Prison Population:</span>
                        <span class="case-value">58% Black</span>
                    </div>
                    <div class="case-metric">
                        <span class="case-label">Impact:</span>
                        <span class="case-value">97% white Lawrence County gained massive power from Black prisoners</span>
                    </div>
                </div>

                <div class="case-study">
                    <h3>New York</h3>
                    <div class="case-metric">
                        <span class="case-label">Prison Population:</span>
                        <span class="case-value">77% African American or Latino</span>
                    </div>
                    <div class="case-metric">
                        <span class="case-label">Prison Locations:</span>
                        <span class="case-value">98% in disproportionately white State Senate districts</span>
                    </div>
                </div>

                <div class="case-study">
                    <h3>Pennsylvania</h3>
                    <div class="case-metric">
                        <span class="case-label">Philadelphia Origin:</span>
                        <span class="case-value">40% of state prison population</span>
                    </div>
                    <div class="case-metric">
                        <span class="case-label">Cells in Philadelphia:</span>
                        <span class="case-value">1% (99% outside city)</span>
                    </div>
                    <div class="case-metric">
                        <span class="case-label">Underrepresented:</span>
                        <span class="case-value">100,000+ Black Philadelphia residents</span>
                    </div>
                </div>

                <div class="case-study">
                    <h3>Wisconsin</h3>
                    <div class="case-metric">
                        <span class="case-label">Black Incarceration:</span>
                        <span class="case-value">16.4x rate of white residents (highest in nation)</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>State-Level Racial Composition</h2>
                <div class="info-box">
                    <h3>12 States with Black-Majority Prison Populations:</h3>
                    <ul>
                        <li>Alabama, Delaware, Georgia, Illinois, Louisiana</li>
                        <li>Maryland, Michigan, Mississippi, New Jersey</li>
                        <li>North Carolina, South Carolina, Virginia</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Timeline Tab -->
        <div class="tab-content" id="timeline">
            <div class="card">
                <h2>Historical Timeline of Prison Gerrymandering</h2>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-year">1790</div>
                        <div class="timeline-content">
                            <h4>First U.S. Census</h4>
                            <p>Census Bureau establishes "usual residence" principle, counting people where they "live and sleep most of the time." Prison population remains minimal (~350,000 through 1970).</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">1970s</div>
                        <div class="timeline-content">
                            <h4>Beginning of Mass Incarceration</h4>
                            <p>Prison populations begin dramatic increase, growing from 500,000 in 1980 to over 2 million by 2000s.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">2005</div>
                        <div class="timeline-content">
                            <h4>Anamosa, Iowa Incident</h4>
                            <p>City council member wins election with just 2 write-in votes due to 1,300 non-voting prisoners inflating district population—bringing national attention to the issue.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">2010</div>
                        <div class="timeline-content">
                            <h4>First Wave of State Reforms</h4>
                            <p>Delaware, Maryland, New York, and Massachusetts become first states to address prison gerrymandering. Census Bureau receives 77,863 public comments urging change (99.5% in favor).</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">2011</div>
                        <div class="timeline-content">
                            <h4>California Reform</h4>
                            <p>California enacts comprehensive reform to count prisoners at home addresses for both state and local redistricting.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">2016</div>
                        <div class="timeline-content">
                            <h4>First Federal Court Victory</h4>
                            <p>Federal court declares prison gerrymandering unconstitutional in Jefferson County, Florida—first such federal ruling.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">2019</div>
                        <div class="timeline-content">
                            <h4>Federal Appeals Court Breakthrough</h4>
                            <p>Second Circuit Court of Appeals rules NAACP prison gerrymandering lawsuit can proceed in Connecticut—first federal appeals court to affirm ability to sue state over the practice.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">2020</div>
                        <div class="timeline-content">
                            <h4>Major Expansion of Reforms</h4>
                            <p>Colorado, New Jersey, Virginia, and Rhode Island enact reforms. Census Bureau releases Table P5 data identifying prison locations to assist states with adjustments.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">2021</div>
                        <div class="timeline-content">
                            <h4>Connecticut, Illinois, Pennsylvania Reforms</h4>
                            <p>Three more states join reform movement. Pennsylvania applies reform to 2020 redistricting. Connecticut passes comprehensive legislation after sustained advocacy.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">2023-24</div>
                        <div class="timeline-content">
                            <h4>Montana and Minnesota Join</h4>
                            <p>Montana (2023) and Minnesota (2024) become most recent states to end prison gerrymandering, bringing total to 15-18 states representing ~47% of U.S. population.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">2025</div>
                        <div class="timeline-content">
                            <h4>Census Bureau Report</h4>
                            <p>"View from the States" report shows nearly half of states now have requirements to reallocate prisoners. States continue pressing Bureau to change counting methodology for 2030 Census.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>Key Legal Cases</h2>
                <div class="case-study">
                    <h3>Calvin v. Jefferson County, Florida (2016)</h3>
                    <p style="color: var(--color-slate-500); margin-bottom: 12px;">
                        First federal court to rule prison gerrymandering unconstitutional at local level, finding 
                        violation of "one person, one vote" principle under Fourteenth Amendment.
                    </p>
                </div>

                <div class="case-study">
                    <h3>NAACP v. Merrill (Connecticut, 2019)</h3>
                    <p style="color: var(--color-slate-500); margin-bottom: 12px;">
                        Second Circuit Court of Appeals ruled plaintiffs could proceed with statewide challenge—first 
                        federal appeals court to affirm ability to sue state for prison gerrymandering.
                    </p>
                </div>

                <div class="case-study">
                    <h3>Little v. LATFOR (New York, 2011)</h3>
                    <p style="color: var(--color-slate-500); margin-bottom: 12px;">
                        Successfully defended New York's law ending prison-based gerrymandering against 
                        constitutional challenges.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching functionality
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const targetTab = tab.dataset.tab;
                
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(tc => tc.classList.remove('active'));
                
                tab.classList.add('active');
                document.getElementById(targetTab).classList.add('active');
            });
        });

        // Case studies data
        const caseStudies = [
            {
                location: "Lawrence County, Illinois",
                prison_pop: "2,358 of 2,407",
                impact: "49 voting residents have power of 2,407 (50x multiplier)",
                racial: "97% white district gains power from primarily Black prisoners (58% of IL prison)",
                type: "extreme"
            },
            {
                location: "Anamosa, Iowa (2005)",
                prison_pop: "1,300 of 1,400",
                impact: "City council member won with 2 votes due to 1,300 non-voting prisoners",
                racial: "Predominantly white town gains representation from diverse prisoners",
                type: "extreme"
            },
            {
                location: "Waupun, Wisconsin",
                prison_pop: "76% of district",
                impact: "76% of district population incarcerated; representative re-elected with 43 votes",
                racial: "Prison population inflates white rural district representation",
                type: "extreme"
            },
            {
                location: "Pennsylvania House District 150",
                prison_pop: "5,000+",
                impact: "District would fail to meet minimum federal requirements without prisoners",
                racial: "PA prison population 40% from Philadelphia, 99% of cells outside city",
                type: "state"
            },
            {
                location: "Texas House District 8",
                prison_pop: "21,112",
                impact: "Would be 12.59% smaller than average without prisoners (beyond legal limits)",
                racial: "Districts primarily rural, white; prisoners disproportionately from urban areas",
                type: "state"
            },
            {
                location: "Texas House District 12",
                prison_pop: "10% of district",
                impact: "Prison population accounts for 10% of district population",
                racial: "Correctional facilities 10% of district population",
                type: "state"
            },
            {
                location: "Jefferson County, Florida",
                prison_pop: "40%+ of district",
                impact: "District voting power diluted by counting 40%+ prison population",
                racial: "Rural white district gains power from diverse prisoner population",
                type: "local"
            },
            {
                location: "California Congressional District 22",
                prison_pop: "30,000+",
                impact: "Lost 4% of population (30,000+) when prisoners reallocated to home addresses",
                racial: "Prison population 25% Black vs 6% Black district; transfers Black political power",
                type: "congressional"
            },
            {
                location: "New York State Assembly Districts 35-36",
                prison_pop: "~3.1% of district",
                impact: "Lost approximately 3.1% when prisoners reallocated",
                racial: "Reallocated prisoners shifted racial dynamics of districts",
                type: "state"
            },
            {
                location: "Philadelphia, PA",
                prison_pop: "7,000+ (26% of state total)",
                impact: "City would gain 1-2 majority-minority districts if prisoners counted at home",
                racial: "100,000+ Black Philadelphia residents underrepresented by mass incarceration",
                type: "local"
            }
        ];

        // Render case studies
        function renderCaseStudies(filter = 'all') {
            const container = document.getElementById('caseStudies');
            container.innerHTML = '';
            
            const filtered = filter === 'all' ? caseStudies : caseStudies.filter(c => c.type === filter);
            
            filtered.forEach(study => {
                const caseDiv = document.createElement('div');
                caseDiv.className = 'case-study';
                caseDiv.innerHTML = `
                    <h3>${study.location}</h3>
                    <div class="case-metric">
                        <span class="case-label">Prison Population:</span>
                        <span class="case-value">${study.prison_pop}</span>
                    </div>
                    <div class="case-metric">
                        <span class="case-label">Impact:</span>
                        <span class="case-value">${study.impact}</span>
                    </div>
                    <div class="case-metric">
                        <span class="case-label">Racial Dimension:</span>
                        <span class="case-value">${study.racial}</span>
                    </div>
                `;
                container.appendChild(caseDiv);
            });
        }

        // Initialize case studies
        renderCaseStudies();

        // Case study filter
        document.getElementById('caseFilter').addEventListener('change', (e) => {
            renderCaseStudies(e.target.value);
        });

        // States data
        const states = [
            { name: "Delaware", year: 2010 },
            { name: "Maryland", year: 2010 },
            { name: "New York", year: 2010 },
            { name: "Massachusetts", year: 2010 },
            { name: "California", year: 2011 },
            { name: "Tennessee", year: 2016 },
            { name: "Nevada", year: 2019 },
            { name: "Washington", year: 2019 },
            { name: "Colorado", year: 2020 },
            { name: "New Jersey", year: 2020 },
            { name: "Virginia", year: 2020 },
            { name: "Rhode Island", year: 2020 },
            { name: "Connecticut", year: 2021 },
            { name: "Illinois", year: 2021 },
            { name: "Pennsylvania", year: 2021 },
            { name: "Montana", year: 2023 },
            { name: "Minnesota", year: 2024 },
            { name: "Michigan", year: "Local" }
        ];

        // Render states
        const stateGrid = document.getElementById('stateGrid');
        states.forEach(state => {
            const badge = document.createElement('div');
            badge.className = 'state-badge';
            badge.innerHTML = `
                <span class="state-name">${state.name}</span>
                <span class="state-year">Enacted ${state.year}</span>
            `;
            stateGrid.appendChild(badge);
        });
    </script>
</body>
</html>
